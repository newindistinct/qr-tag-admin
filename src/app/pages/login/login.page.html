<ion-header>
  <ion-toolbar>
    <ion-title>เข้าสู่ระบบ</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="login-logo">
    <img src="assets/img/appicon.svg" alt="Ionic logo">
  </div>

  <div class="login-form">
    <form #loginForm="ngForm" novalidate>
      <ion-input label="email" labelPlacement="stacked" fill="solid" [(ngModel)]="email" name="email" type="email"
        #username="ngModel" spellcheck="false" autocapitalize="off" errorText="email is required" required>
      </ion-input>

      <div class="ion-padding">
        <ion-button (click)="checkAdmin(loginForm)" type="submit" expand="block" id="open-modal">Login</ion-button>
      </div>
    </form>
  </div>
  <div *ngIf="failMassage" style="text-align: center;">{{failMassage}}</div>
  <div *ngFor="let item of site" style="text-align: center;">{{item.site_admin}}<br>{{item.site_name}}</div>

</ion-content>
<ion-modal [isOpen]="isModalOpen">
  <ng-template>
    <ion-content [fullscreen]="true">
      <div style="text-align: center;align-items: center;">
        <h1>เราได้ส่งอีเมล์ไปที่ {{site[0].site_admin}}<br>กรุณายืนยันเพื่อเข้าสู่ระบบ </h1>
        <h5>หากไม่ได้รับอีเมล์ กดปุ่ม"ส่งอีเมล์อีกครั้ง"</h5> 
        <ion-button>ส่งอีกอีเมล์ครั้ง</ion-button>
        <div *ngIf="errorMassage" style="text-align: center;">{{errorMassage}}</div>
      </div>
    </ion-content>
  </ng-template>
</ion-modal>